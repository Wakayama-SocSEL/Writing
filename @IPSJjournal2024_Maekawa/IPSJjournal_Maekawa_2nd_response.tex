\documentclass{jarticle} %LaTeX2e


\usepackage{color}
%\usepackage{graphicx}
\usepackage[dvipdfmx]{graphicx} % pdfを使用する
\usepackage{tabularx}
\usepackage{fancyhdr} % header, footer
\usepackage{lastpage} % 総page数
\usepackage{multirow}
\usepackage{ulem}
\usepackage{latexsym}
\usepackage{maltcol}
\usepackage{jumoline}
\usepackage{caption}
\usepackage{url}

\setlength{\UnderlineTexDepth}{3pt}

\newcommand{\todo}[1]{\colorbox{yellow}{{\bf TODO}:}{\color{red}{\textbf{[#1]}}}}

\newcommand{\ihara}[1]{\colorbox{green}{{\bf ihara}:}{\color{red}{\textbf{[#1]}}}}

\renewcommand{\headrulewidth}{0pt} % ヘッダーラインを打ち出さない

% todayコマンド 西暦表示
\renewcommand{\today}{%
  \the\year /%
   {\ifnum \month < 10  0\the\month \else \the\month \fi}/%
   {\ifnum \day < 10  0\the\day \else \the\day \fi}%
}

% header, footer周りの定義
\pagestyle{fancy}

% 回答文タイトル
\def\restitle{条件付論文に対する回答文}
\def\paptitle{JavaScriptライブラリのテストコード変更に基づく\\後方互換性を損失するバージョン検出}

%% header
\lhead{\restitle}
\rhead{\paptitle}

%% footer
\cfoot{}
\lfoot{\date{\today}}
\lfoot{\today}
\rfoot{\thepage/\pageref{LastPage}}

%% ページの余白
\setlength{\oddsidemargin}{0pt}
\setlength{\evensidemargin}{0pt}
\setlength{\topmargin}{-20pt}
\setlength{\textwidth}{440pt}
\setlength{\textheight}{640pt}
\setlength{\headheight}{30pt}
\setlength{\headwidth}{\textwidth}

%% 回答書用sectionの再定義

% ラベル：査読者Aの方から〜対する回答
\def\section#1{ \vspace{3pc} {\large \gt #1} \vspace{1pc} \hrule }

% ラベル：条件，回答，変更
\def\subsection#1{ \vspace{1pc} {\gt #1} }

% 次の回答文へ移動
\def\nextans{ \vspace{2pc} \hrule }


% テキストカラー
%\def\red#1{\textcolor{red}{#1}}


%%%
\begin{document}

% 回答書見出し
{\Large \gt \restitle}

\vspace{3pc}

査読者各位\\


この度は私共の以下の論文に対して熱心な御査読を頂き，有益な御意見を頂きましたことに厚く御礼申し上げます．\\
\textbf{論文ID：24-A081}\\
\textbf{タイトル：『JavaScriptライブラリのテストコード変更に基づく後方互換性を損失するバージョン検出』}

貴重な御意見を反映するよう，論文の加筆・修正を行いましたので再投稿させていただきます．御手数おかけ致しますが，再度御査読の程どうぞ宜しくお願い致します．	

本回答文は，御指摘に対する「回答」と，論文の変更内容を示す「変更」の順に記載しております．一つのコメントに対して複数の変更を行った場合は，（変更1-1-a），（変更1-1-b）のように番号の後ろにアルファベットを付しております．どうぞ宜しくお願い申し上げます．\\

第1査読者の方から（条件1-1）において論文中の「ライブラリバージョン」を単に「バージョン」と記載しているなど表記揺れの御指摘を受けました．貴重な御指摘を頂き，誠にありがとうございました．論文中ではライブラリのみバージョンの区別をしており，クライアントではバージョンの区別をしていません．誤解を招かないように，基本的には「ライブラリバージョン」の用語は使用せず，クライアントとの区別を明確にするために「ライブラリのバージョン」，またはライブラリのことを指していることが明確な箇所は単に「バージョン」と記載します．「ライブラリバージョン」は，本論文で90回以上使用する用語であり，全ての変更箇所を赤字で記載すると別の変更箇所と区別することが難しくなるため，変更箇所を赤字で記載しておりません．御理解のほど，どうぞ宜しくお願い申し上げます．

また，前版の7.5節は，7.4.2項とすべきところ，誤った章番号になっておりました．謹んでお詫び申し上げます．新版では修正しておりますので，ここでご報告させていただきます．

%--------------------------------------------------------------------------------
\section{査読委員の方（メタ査読者）から頂いたコメントに対する回答}
%--------------------------------------------------------------------------------

\subsection{（コメントM-C）}

本論文は、テストケースの変更有無を判断基準として、JavaScriptライブラリのバージョンアップに伴う後方互換性の発生有無を推定することを目的とした研究です。独自のアプローチを持ち、多くのライブラリバージョンを対象として多角的な分析が行なわれており、結果も有効であると言えます。

しかしながら、査読者１が指摘しているように、本論文の記述には複数の不明瞭な点や不整合が見られます。
また、査読者２が指摘しているように、掲載されている事例の見直しが必要かと思われます。

これらを含め、両査読者からのコメントへの対応を採録の条件とします。


\subsection{（回答M-C）}
この度は私共の論文に対して熱心な御査読を頂き，有益な御意見を頂きましたことに厚く御礼申し上げます．両査読者の方から条件として御指摘いただきました内容を論文に反映し，それぞれ順に回答しました．再度御査読の程，どうぞよろしくお願い申し上げます．


\newpage
%--------------------------------------------------------------------------------
%--------------------------------------------------------------------------------
\section{査読委員の方（査読者: 1）から頂いたコメントに対する回答}
%--------------------------------------------------------------------------------
\subsection{（コメント1-C）}

ライブラリの後方互換性問題について、テストコードの静的解析のみで一定の再現率を得たという点で、非常に興味深い手法と考えます。ベースとなる技術は過度に複雑でなく、追加の解析による精度向上や他言語への応用も期待できます。
また、JavaScriptのエコシステムはWeb等で広く利用されており、その観点からも価値のある研究といえます。

手法の流れや実験結果については大きく問題は認められませんが、構成や用語、記述の問題でいくらか説明に不整合が見られます。
記述を整理して本論文の分析手法および結果を正確に把握できるよう改善することを採録の条件として挙げます。

\subsection{（回答1-C）}

本研究への高い評価，御意見を頂戴し，誠にありがとうございます．用語の統一や記述について．論文中に多数不手際があり，大変ご迷惑おかけいたしました．謹んでお詫び申し上げます．一つずつ修正を試みましたため，
再度御査読の程，どうぞ宜しくお願い申し上げます．


      

%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（条件1-1）}

「ライブラリバージョン」という語が何を指しているのか、また「ライブラリ」との使い分けが不明です。
この用語の定義が不明瞭なため、論文全体の理解を進めることが難しくなっています。
ライブラリはL、ライブラリバージョンはL(x)とL(x+1)の組、でしょうか。
また、表3では「バージョン対」「バージョン」という語が使われていますがこれらは両方ともライブラリバージョンのことを指しているのでしょうか。
混同のないよう、これらの用語を適切に使い分け、必要に応じ略記には説明を付してください。
また、2.2節の「ライブラリバージョンを適用し」などは上記の理解でも「ライブラリのバージョンの組を適用」と文の意味が通らなくなっていますので、用語だけでなく周辺の表現も含めて見直してください。．

\subsection{（回答1-1）　}

貴重な御指摘を頂き，誠にありがとうございます．「ライブラリバージョン」の表記揺れについて，論文中に不手際があり，大変ご迷惑お掛け致しました．謹んでお詫び申し上げます．回答書冒頭にも説明を記載しましたが，論文中ではライブラリのみバージョンの区別をしており，クライアントではバージョンの区別をしていません．誤解を招かないように，論文中で「ライブラリバージョン」の用語は使用せず，クライアントとの区別を明確にするために「ライブラリのバージョン」またはライブラリのことを指していることが明確な箇所は単に「バージョン」と記載します．「ライブラリバージョン」は，本論文で90回以上使用する用語であり，全ての変更箇所を赤字で記載すると別の変更箇所と区別することが難しくなるため，変更箇所を赤字で記載しておりません．御理解のほど，どうぞ宜しくお願い申し上げます．1章に変更1-1のように加筆いたしました．

\subsection{（変更1-1）　1章}
\vspace{-0.3cm}
\begin{description}
\item 加筆\\
\phantom{　}
開発によってライブラリに変更が加えられた場合，クライアント開発者は必要に応じて，クライアントの開発に用いているライブラリのバージョンを更新する\textcolor{red}{\UnderlineTex{（以降，単に「バージョン」と表記した場合，ライブラリのバージョンを指す）}}．
\end{description}


\newpage
\subsection{（条件1-2）}

以下『ライブラリはL、ライブラリバージョンはL(x)とL(x+1)の組』の理解が正しいと仮定してコメントを続けます。
分析対象の1955組は「ライブラリバージョンとクライアントの組み合わせ」とされていますが、これは5.2節で抽出した22271組の「ライブラリバージョンとクライアントの組み合わせ」の部分集合であるように見えます。
しかしながら、5.3節を読みなおすとこれは誤解であり、正確には以下の解釈となる認識です。
\begin{itemize}
\item 22271組の「ライブラリバージョンとクライアントの組み合わせ」は、238種類のライブラリL（ライブラリバージョンではなく）に対してそれを利用するクライアントが存在し、その存在するL×Cの組み合わせの総数である
\item 1955組の「ライブラリバージョンとクライアントの組み合わせ」は、5.3節の手順(3)で「クライアントテストの実行結果を統合する」ため、あるライブラリバージョンに対してクライアント（の集合）がただ1つとなり、分析対象は各ライブラリバージョンに1:1対応するクライアント集合が存在する1955のライブラリバージョンである
\end{itemize}
この解釈に基づくと、これらは別個の概念であり双方に「ライブラリバージョンとクライアントの組み合わせ」という語を用いることは適切ではないように思います。
また、ここでは1955組は「組み合わせ」と表現されており実際に$<L(X),L(X+1),C>$の3つ組ではあります。
しかし、ライブラリバージョンについてユニークであるという点がはっきりしないと、その後の適合率および再現率のもととなる件数が「バージョン間での後方互換性の有無」に対するものという解釈ができなくなる（同じライブラリバージョン間について別のCを用いた複数回の検出結果が数値に含まれうるように見える）ため、分析結果の理解に支障が出ると考えます。
「ライブラリバージョンとクライアントの組み合わせ」という表現が22271組と1955組双方に使われていることについて、これが適切か上記をふまえ見直したうえ誤解のないよう記述を修正してください。


\subsection{（回答1-2）}

貴重な御指摘を頂き，誠にありがとうございます．ご指摘の通りです．困惑する説明となったことお詫び申し上げます．22,271組は，238種類のライブラリLに対して，ライブラリのいずれかのバージョンを利用するクライアントCとの組み合わせの総数になります．また，1,955組は，5.3節の3つの手順で抽出されたライブラリのいずれかのバージョン変更 $(L(X) \rightarrow L(X+1))$の組み合わせ数(L(X),L(X+1))になります．

査読者様の査読コメントに「1955組は「組み合わせ」と表現されており実際に$<L(X),L(X+1),C>$の3つ組ではあります。」とご説明いただいていますが，1,955組は5.3節の手順(3)で「クライアントテストの実行結果を統合する」ため，あるライブラリのバージョン変更を実施したクライアントの\textbf{集合}になります．本研究では，重複のない1,955組のライブラリのバージョン変更L(X)からL(X+1)を対象に，この変更を実施した2件以上のクライアントのテスト結果を確認し，後方互換性の損失を分析しています．したがって，クライアントはただ1つに特定するものではない，つまり$<L(X),L(X+1),C>$とするとライブラリの特定のバージョン変更をした\textbf{特定のクライアント}のように読み取れるため，$<L(X),L(X+1)>$が本分析方法を正しく表現していると考えます．1章，5.3節，5.4節の3箇所において，変更1-2-a，変更1-2-b，変更1-2-cのように修正いたしました．



\subsection{（変更1-2-a）1章}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
各分析では人気の高い1,955件のJavaScriptライブラリを対象に行い，各ライブラリを使用するクライアントのテストコードが失敗するか否かによって後方互換性の有無を検証する．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
各分析では人気の高いJavaScriptライブラリ\textcolor{red}{\UnderlineTex{238件に含まれるバージョン変更1955件}}を対象に行い，各ライブラリを使用するクライアントのテストコードが失敗するか否かによって後方互換性の有無を検証する．
\end{description}

\subsection{（変更1-2-b）5.3節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
集計の結果，ライブラリのバージョン変更とクライアントの組み合わせ1,955組を分析対象とする．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
集計の結果，\textcolor{red}{\UnderlineTex{複数のクライアントが依存するライブラリのバージョン変更}}の組み合わせ1,955組を分析対象とする．
\end{description}

\subsection{（変更1-2-c）5.4節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
表1は，ライブラリのバージョンとクライアントの組み合わせ1,955組に対して4章で述べた分析手法を適用した結果を示す．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
表1は，\textcolor{red}{\UnderlineTex{複数のクライアントが依存するライブラリのバージョン変更}}の組み合わせ1,955組に対して4章で述べた分析手法を適用した結果を示す．
\end{description}

%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（条件1-3）}

仮説に対応する分析は確かに2つなのですが、章構成が「5章：分析1」「6章：～の分析」「7章：分析2」となっており掲載されている分析は3つです。
1章では6章も分析2に含めていたかと思いますので、適切な説明になるよう各章タイトルおよび1章の記述をあらためてください。

\subsection{（回答1-3）}

貴重な御指摘を頂き，誠にありがとうございます．ご指摘の通り，6章に分析2を付与していませんでした．7章と区別するために6章は，「分析2$_{-1}$: テストコード変更内容の分析」のように表記し，7章は「分析2$_{-2}$: テストコード変更内容に基づく後方互換性損失の検出」のように加筆しました．


\subsection{（変更1-3）6章，7章}
\vspace{-0.3cm}
\begin{description}
\item 加筆\\
\noindent6章　「\textcolor{red}{分析2$_{-1}$: }テストコード変更内容の分析」\\
\noindent7章　「分析2\textcolor{red}{$_{-2}$}: テストコード変更内容に基づく後方互換性損失の検出」\\
\end{description}



%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（条件1-4）}

6.2節から分析2の手法へのつながりを追う中で、いくつか不整合が見られるため、なぜ分析2の手法に至ったのかが正確に把握できませんでした。
\begin{itemize}
\item 6.2節ではテストコードの変更の内訳としてテストフィクスチャの変更を挙げていますが、6.2.3節では議論されておらず7.2節でも出現しません。
\item アサーションの追加は6.2節では「テストコードの変更」に分類されていますが、6.2.1節や7.2節では「テストコード追加」として扱われています。
\end{itemize}
これらの点をみなおし、6.2節での議論が分析2の手法につながるように説明を加えてください。

\subsection{（回答1-4）}

貴重な御指摘を頂き，誠にありがとうございます．ご指摘いただいた2点について順に回答させていただきます．
\begin{itemize}
\item テストフィスチャを変更するときにも後方互換性を損失することが多いという結果を得ましたが，テストフィクスチャの変更は，テストデータの初期化や事前条件を定義する性質上，変更時のテストコードの影響範囲が広く，後方互換性の損失との関係を分析することが困難であるため，本研究では対象としていません．テストフィクスチャの変更を対象外とする説明が記述できておりませんでした．謹んでお詫び申し上げます．変更1-4-aのように論文中に加筆いたしました．
\item アサーションの追加は6.2.1節や7.2節と同様に「テストコードの追加」に分類すべきところ，誤って「テストコードの変更」に分類している記述となっていました．謹んでお詫び申し上げます．変更1-4-bのように論文中に加筆いたしました．
\end{itemize}




\subsection{（変更1-4-a）6.2節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
各バージョンにおいてテスト変更内容は，テストコード（テストスイート，テストケース）の追加，テストコード（テストスイート，テストケース）の削除，テストコードの変更（アサーションの追加，アサーションの入力値/期待値の変更，テストフィクスチャの変更）するときに後方互換性の損失していることが多い．これらについては，6.2.1項から6.2.3項においてそれぞれ事例を挙げながら説明する．これら以外に，後方互換性を損失するライブラリ更新に伴って，ライブラリの更新とは無関係にテストがリファクタリングされることも確認したが，本研究ではライブラリの更新に関係するテストの変更のみに着目する．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
各バージョンにおいてテスト変更内容は，テストコード（テストスイート，テストケース）の追加，テストコード（テストスイート，テストケース）の削除，テストコードの変更（アサーションの追加，アサーションの入力値/期待値の変更，テストフィクスチャの変更）するときに後方互換性の損失していることが多い．これらについては，6.2.1項から6.2.3項においてそれぞれ事例を挙げながら説明する．\textcolor{red}{\UnderlineTex{ただし，テストフィクスチャの変更は，テストデータの初期化や事前条件を定義する性質上，変更時のテストコードの影響範囲が広く，後方互換性の損失との関係を分析することが困難であるため，本研究では対象としない．}}これら以外に，後方互換性を損失するライブラリ更新に伴って，ライブラリの更新とは無関係にテストがリファクタリングされることも確認したが，本研究ではライブラリの更新に関係するテストの変更のみに着目する．
\end{description}

\subsection{（変更1-4-b）6.2節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
各バージョンにおいてテスト変更内容は，テストコード（テストスイート，テストケース）の追加，テストコード（テストスイート，テストケース）の削除，テストコードの変更（アサーションの追加，アサーションの入力値/期待値の変更，テストフィクスチャの変更）するときに後方互換性の損失していることが多い．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
各バージョンにおいてテスト変更内容は，テストコード（テストスイート，テストケース\textcolor{red}{\UnderlineTex{，アサーション}}）の追加，テストコード（テストスイート，テストケース）の削除，テストコードの変更（アサーションの入力値/期待値の変更，テストフィクスチャの変更）するときに後方互換性の損失していることが多い．
\end{description}
%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（条件1-5）}

文章の意味が読み取れない部分があるので修正してください。
\begin{itemize}
\item 概要：「分析対象とするライブラリバージョン更新で後方互換性を損失している割合よりも高い精度で検出することができた」\\
$\rightarrow$　何と何を比べているのかが読み取れません。
\item 3章：ライブラリの後方互換性を判断する手段としてライブラリに付属しているテストへの変更を用いることができるが，頻繁に再利用されるライブラリに対して後方互換性を判断できるのかは明らかでない．\\
$\rightarrow$「頻繁に再利用される」こととの関係が不明です。（頻繁に再利用されないものに対しては後方互換性を判断できるのが明らかだ、という意味ではないはずです）
\end{itemize}

\subsection{（回答1-5）}

貴重な御指摘を頂き，誠にありがとうございます．ご指摘いただいた2点について順に回答させていただきます．
\begin{itemize}
\item 概要に記載した結論は，7.5節，表3で示した，分析対象として後方互換性の損失が発生していることをランダム判別する（再現率 50 ％）結果と，提案手法との比較結果を述べたつもりでおりました．ご指摘の通り，説明不十分で正確に伝えられていない文となっていました．謹んでお詫び申し上げます．変更1-5-aのように概要を修正すると共に，それに対応する英語の概要も変更1-5-bのように修正いたしました．
\item 3章に記述していました「頻繁に再利用される」については，ご指摘の通り意味を理解できない説明となっておりました．本論文では「頻繁に再利用される」という説明は必要ありません．謹んでお詫び申しげます．変更1-5-cのように修正いたしました．
\end{itemize}



\subsection{（変更1-5-a）概要}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
本手法は分析対象とするライブラリのバージョン更新で後方互換性を損失している割合よりも高い精度で検出することができた．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
本手法は分析対象とするライブラリのバージョン更新\textcolor{red}{\UnderlineTex{において，後方互換性を損失していることをランダムに判別する}}よりも高い精度で検出することができた．
\end{description}

\subsection{（変更1-5-b）　Abstract}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
As a result, our approach successfully detected backward compatibility loss with higher accuracy than its rate in our target library version updates.
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
As a result, our approach successfully detected backward compatibility loss with higher accuracy than \textcolor{red}{\UnderlineTex{random detection approach}} in our target library version updates.
\end{description}

\subsection{（変更1-5-c）　3章}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
ライブラリの後方互換性を判断する手段としてライブラリに付属しているテストへの変更を用いることができるが，頻繁に再利用されるライブラリに対して後方互換性を判断できるのかは明らかでない．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
ライブラリの後方互換性を判断する手段としてライブラリに付属しているテストへの変更を用いることが\textcolor{red}{\UnderlineTex{考えられるが，どの程度の後方互換性の損失}}を判断できるのかは明らかでない．
\end{description}

%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（コメント1-1）}

文章の意味が読み取りづらい部分があるので修正を検討してください。
\begin{itemize}
\item 7.3節：「そのうち114件（適合率：約17\%）を正しく判定することができ，5章は905件中140件（約15\%）であり本手法により改善することができた．」
\item 7.3節：「また，本手法は，後方互換性の損失があった223件中114件（再現率：約51\%）を正しく検出でき，5章に示す223件中140件（約63\%）より低下し，後方互換性を損失したライブラリバージョンの検出においては今後の課題である．」
\item 7.4節では「手法」「分析」の語が混じっています。整理すると理解がスムーズになると思います。読んだ限りでは、1段落目と2段落目は最初の分析結果の件数を除き「分析手法」自体の性質について論じており、3段落目はクライアントを用いた「分析結果」に対する考察と思われます。
\end{itemize}

\subsection{（コメントへの回答1-1）}
貴重な御指摘，および，御助言を頂き，誠にありがとうございます．それぞれ変更C1-1-aから変更C1-1-dのように修正いたしました．

\subsection{（変更C1-1-a）7.3節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
本手法で後方互換性なし，つまり後方互換性の損失があると判定したバージョンは662件であった．そのうち114件（適合率：約17\%）を正しく判定することができ，5章は905件中140件（約15\%）であり本手法により改善することができた．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
本手法で後方互換性なし，つまり後方互換性の損失があると判定したバージョン\textcolor{red}{\UnderlineTex{662件中114件（適合率：約17\%）を正しく判定することができ，5章で示した手法では905件中140件（約15\%）であったため，テストコード変更内容を考慮することで後方互換性の損失の判定精度を}}改善することができた．
\end{description}

\subsection{（変更C1-1-b）7.3節}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
また，本手法は，後方互換性の損失があった223件中114件（再現率：約51\%）を正しく検出でき，5章に示す223件中140件（約63\%）より低下し，後方互換性を損失したバージョンの検出においては今後の課題である．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
また，本手法は，後方互換性の損失があった223件中114件（再現率：約51\%）を正しく検出でき，5章に示\textcolor{red}{\UnderlineTex{した手法では223件中140件（約63\%）であったため，テストコード変更内容を考慮することで後方互換性の損失の判定精度が低下した．後方互換性を損失したバージョンの検出精度のさらなる向上は今後の課題とする．}}
\end{description}

\subsection{（変更C1-1-c）7.4.1項}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
分析2の手法は分析1に比べて後方互換性の損失を検出する基準が厳しいため，後方互換性を損失しているライブラリのバージョンを検出できないケースが分析1（83件）よりも分析2（109件）の方が多い結果となった．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
\textcolor{red}{\UnderlineTex{分析2は分析1に比べて後方互換性の損失を検出する基準が厳しい．従って，}}後方互換性を損失しているライブラリのバージョンを検出できないケースが分析1（83件）よりも分析2（109件）の方が多い結果となった．
\end{description}

\subsection{（変更C1-1-d）7.4.1項}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
この例では，テストコードの変更が後方互換性の損失と無関係ではあるが，テストコードが変更されているため手法1では後方互換性の損失を検出できる．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
この例では，テストコードの変更が後方互換性の損失と無関係ではあるが，テストコードが変更されているため\textcolor{red}{\UnderlineTex{分析}}1では後方互換性の損失を検出できる．
\end{description}

\subsection{（変更C1-1-d）7.4.2項（前版では7.5節）}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
今後は，クライアントテストの内容，および後方互換性を損失する関数の利用有無を確認することで，本手法の検出精度をより正確に検証できると示唆される．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
今後は，クライアントテストの内容，および後方互換性を損失する関数の利用有無を確認することで，\textcolor{red}{\UnderlineTex{提案手法の検出精度を向上できると示唆される．}}
\end{description}

\newpage
%--------------------------------------------------------------------------------
%--------------------------------------------------------------------------------
\section{査読委員の方（査読者: 2）から頂いたコメントに対する回答}
%--------------------------------------------------------------------------------
\subsection{（条件2-1）}

著者らは，テストコードの変更に基づき，後方互換性を損失するJavascriptライブラリのバージョンを検出する手法を提案しています．実験を通して，提案手法はランダム判別手法と比べて，高い精度で検出を行えることがわかっています．

本論文は，後方互換性を損失するJavascriptライブラリのバージョン検出を行うために，テストコードの変更に着目するというアイデアは興味深いです．しかし，図1において，後方互換性を損失する事例であるのか判断できませんでした．もし，後方互換性を損失する事例であるのであればそのことを明示してください．もし，そうでないなら，後方互換性を損失する事例を掲載してください．また，単に後方互換性を損失する事例ではなく，既存手法と比べて提案手法が優れているものを掲載する必要があると考えます．


\subsection{（回答2-1）}

貴重な御指摘を頂き，誠にありがとうございます．図1で提示した事例は後方互換性を損失する事例になりますが，論文中で詳細な説明が不足しており，査読者の方を困惑する結果となりました．謹んでお詫び申し上げます．既存研究として，Kraaijeveld は，後方互換性を損失する変更を，ライブラリが定義している関数名やパラメータ数の変更と定義し，後方互換性の損失の検出を試みています [9]．当該事例は，serialize-javascriptのバージョン2.1.1が2.1.0からの変更で，テスト対象となる関数とパラメータはそのままで，期待する返り値のみ変更しています．この変更により，ライブラリを実行したときに関数の返り値が以前のバージョンと異なるため，以前のバージョン (2.1.0) における返り値の形式を期待するクライアントは，バージョン更新後の新しい返り値の形式でエラーが発生し，後方互換性を損失していることに気づくことになります．バージョン番号だけを見るとパッチ粒度のアップデートになりますが，後方互換性の損失を含んでいる事例になります．当該バージョンでは関数名やパラメータ数の変更による後方互換性の損失を含まないため，既存研究の手法では検出することができませんが，本研究の提案手法であればテストコードの変更に着目しているため検出可能です．3章において，変更2-1に示すように加筆いたしました．

\subsection{（変更2-1）3章}
\vspace{-0.3cm}
\begin{description}
\item 加筆\\
\phantom{　}
この変更に伴い，テストコードの254行目の変更では，テスト対象となる関数とパラメータはそのままで，期待する返り値のみ変更している．\textcolor{red}{\UnderlineTex{クライアントは，ライブラリを実行したときに関数の返り値が以前のバージョンと異なっているため，以前のバージョン (2.1.0) における返り値の形式を期待するクライアントは，バージョン更新後の新しい返り値の形式でエラーが発生し，後方互換性を損失していることに気づく．当該事例では，serialize-javascriptのバージョン番号はパッチのアップデートであるが，後方互換性の損失を含んでおり，2つのクライアントでライブラリのバージョンをアップデート後にテストが失敗している．クライアントの開発者はテストへの変更内容を確認することで，関数の実行時の返り値が変更されていることに気づくことができ，後方互換性が損失していることを判断できる．その一方で，}}後方互換性の損失を伴わないテストコード変更は，テストコードの実行手順の修正や，可読性向上のためのフォーマッティングなどが考えられる．\textcolor{red}{\UnderlineTex{既存研究のKraaijeveldら[9]が提案する手法ではライブラリの関数名やパラメータ数の変更と定義しているため，serialize-javascriptのバージョン2.1.1の後方互換性を損失を検出することができない．}}
\end{description}


%--------------------------------------------------------------------------------
\newpage
\nextans
\subsection{（コメント2-1）}
\begin{itemize}
\item 著者らは，FOSE等で関連する論文を発表しているようです．二重投稿にはあたらないとおもいますが，本論文で引用すべきでしょう．\\
松田和輝 伊原彰紀 才木一也, ライブラリのテストケース変更に基づく後方互換性の実証的分析, FOSE 2021.
\item 4.1.1節のテストケースの収集方法について，既存研究を参考にしているのであれば，その既存研究を明示した方が説得力が上がると考えます．
\item 4.1.2節2段落目は，図を用いるなどして例を示さないと，理解に時間がかかります．
\item 3章：「後方互換性の損失に伴わないテストケース変更は」文意不明です．
\end{itemize}

\subsection{（コメントへの回答2-1）}

貴重な御指摘，および，御助言を頂き，誠にありがとうございます．それぞれの御指摘への回答は次の通りになります．
\begin{itemize}
    \item 本研究の先行研究として御指摘いただいた論文を第28回ソフトウェア工学の基礎ワークショップ（FOSE2021）のショートペーパーとして採録されております．本研究の分析1（本論文5章）は，先行研究と同じ目的，かつ同じ方法で分析しています．ただし，従来研究ではライブラリ40件，ライブラリのバージョン567件の限られた対象データの結果で議論していたため，分析結果の妥当性に欠け，また予測精度に関する議論が不十分でした，本論文では対象データを拡張し，ライブラリ238件，当該ライブラリのバージョン1,955件を対象に分析1を再調査し，7.4.1項において後方互換性の検出基準に関する考察を行いました．分析2（本論文6章，7章）は本論文で初めて公開する結果となります．いずれにしても，先行研究については本論文で言及すべきでした．御指摘いただきありがとうございました．1章に変更C2-1-aのように加筆いたしました．
    \item 4.1.1項に示した手法は，JavaScript向けテストツールとして長年使用され，利用者数も多いJestやMochaで採用している習慣に基づいていて著者らが設計しており，JavaScripライブラリのテストケースの収集方法は，著者らが設計した方法であり，既存研究を参考にした方法ではありません．その旨を，変更2-1-bのように8章の妥当性の脅威の一つとして加筆しました．
    \item 4.1.2項の2段落目は1文が4行にわたっていますが，図が必要な内容ではないように思われます．査読者の方がご指定されている段落が違っているかもしれません．改めてご確認のほど，よろしくお願いいたします．もし4.1.1項の2段落目を図を使って説明することを御指摘いただいてる場合，この方法はファイルパスや関数名へのテキストマッチングのため，それほど複雑な説明になっているように感じませんでした．御意見頂戴しているにもかかわらず，論文に反映できず申し訳ありません．
    \item 御指摘ありがとうございます．「後方互換性の損失*を*伴わないテストケース変更は」が正しい文章になります．変更2-1-cのように修正いたしました．
\end{itemize}

\subsection{（変更C2-1-a）1章}
\vspace{-0.3cm}
\begin{description}
\item 加筆\\
\phantom{　}
\textcolor{red}{\UnderlineTex{先行研究[3]において，著者らは本研究と同様，後方互換性の損失を検出することを目的に，ライブラリ40件，ライブラリのバージョン567件の限られた対象データに基づき本研究の分析1と同じ実験を行っている．先行研究では，十分なデータセットを対象としていないため，分析結果の妥当性に欠け，また予測精度に関する議論が不十分であった，本研究では，ライブラリ238件，ライブラリのバージョン1,955件にデータ拡張を行い，分析1，およびテストコードの変更内容に基づく後方互換性の損失を検出する分析2（本論文6章，7章）を行い，7.4.1項において後方互換性の検出精度を考察した．}}
\end{description}

\subsection{（変更C2-1-b）8章}
\vspace{-0.3cm}
\begin{description}
\item 加筆\\
したがって，本研究ではライブラリの変更に伴い，テストコードも変更しているプロジェクトを対象にしている．

\textcolor{red}{\UnderlineTex{　また，本研究ではライブラリの分析対象とするバージョン$L(X)$と$L(X+1)$のテストファイルからテストケースを抽出している．テストファイルのファイルパスや関数名に使用される単語に基づきテストケースを抽出しているが，提示する手法に従っていない場合は取りこぼしが発生する．ただし，本手法はJavaScript向けテストツールとして長年使用され，利用者数も多いJestやMochaで採用している習慣に基づいていて著者らが設計しており，本手法によるテストケースの抽出方法が結果に影響する可能性は低いと考える．}}
\end{description}

\subsection{（変更C2-1-c）3章}
\vspace{-0.3cm}
\begin{description}
\item 修正前\\
\phantom{　}
後方互換性の損失に伴わないテストコード変更は，テストコードの実行手順の修正や，可読性向上のためのフォーマッティングなどが考えられる．
\vspace{-0.3cm}
\item 修正後\\
\phantom{　}
後方互換性の損失\textcolor{red}{\UnderlineTex{を}}伴わないテストコード変更は，テストコードの実行手順の修正や，可読性向上のためのフォーマッティングなどが考えられる．
\end{description}



	
%--------------------------------------------------------------------------------


\end{document}
