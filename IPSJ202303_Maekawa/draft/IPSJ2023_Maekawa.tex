\documentclass[uplatex,dvipdfmx,a4paper,twocolumn,base=11pt,jbase=11pt,ja=standard]{bxjsarticle}  % 環境に合わせて変更してください

\usepackage{ipsj}
\usepackage{color}

%追加パッケージ
\usepackage{enumerate}
\usepackage{url}
\usepackage{graphics}
\usepackage{caption}

\newcommand{\todo}[1]{\colorbox{yellow}{{\bf TODO}:}{\color{red} {\textbf{[#1]}}}}

\title{後方互換性の損失に伴うテストコード変更内容の分類}{A classification of test code changes accompanied by a lack of backward compatibility}
\author{和歌山大学}{前川　大樹}{Daiki Maekawa, Wakayama University}
\author{和歌山大学}{伊原　彰紀}{Akinori Ihara, Wakayama University}
\author{和歌山大学}{大森　楓己}{Fuki Omori, Wakayama University}
\author{和歌山大学}{才木　一也}{Kazuya Saiki, Wakayama University}

\begin{document}
\maketitle

%================
%1
\section{はじめに}
%================
% （概要）ソフトウェアライブラリの更新において，開発者は意図せずに後方互換性を損失する変更（破壊的変更）を追加してしまうことがある．従来研究では，ライブラリに破壊的変更を加えたリリースバージョンではテストコードも修正すると考え，テストコードの変更有無による破壊的変更の検出手法を提案した．しかし，テストコードの変更はライブラリ変更に関係するとは限らないため，破壊的変更を誤検出することがある．本研究では，破壊的変更に伴うテストコード変更内容の分類に取り組み，テスト変更内容に基づく破壊的変更の検出精度を向上する．

ソフトウェア開発では，開発効率向上のためにライブラリと呼ばれるプログラムを再利用することがある．ライブラリは新機能やバグ修正のために頻繁に更新されるため，ライブラリ利用者は適宜アップデートをする必要がある．しかし，ライブラリの更新には後方互換性を損失する変更（破壊的変更）が含まれることがあり，利用者のプログラムの実行エラーにつながることがある．そのため，ライブラリ開発者はライブラリを更新する際，破壊的変更有無を判断し，適切なバージョン名を付与することで，破壊的変更有無をライブラリ利用者に伝達する．しかし，破壊的変更有無の確認は手動であるため，ライブラリ開発者が破壊的変更を見逃してしまい，意図せず利用者のプログラムが破壊されてしまうことがある．

従来研究~\cite{FOSE2021_Matsuda}では，ライブラリに破壊的変更を加えたリリースバージョンではテストコードも修正すると考え，テストコードの変更有無による破壊的変更の検出手法を提案した．しかし，テストコードの変更には，テストの誤り修正や実行手順の修正など，ライブラリ変更とは無関係のものも存在するため，破壊的変更を誤検出することがある．本研究では，従来手法による誤検出を減らすために，テストコード変更パターンの分類に取り組み，テスト変更に基づく破壊的変更の検出精度向上を目指す．

%================
%2
\section{分析}
%================
%2.1
\subsection{データセット}
%================

本研究では，松田らのデータセット~\cite{FOSE2021_Matsuda}を使用する．データセットには，npmから収集した，5つの条件を満たすJavaScriptライブラリバージョン2,111組が含まれている．
\vspace{-2mm}
\begin{itemize}
% Mujahidらのデータセット
 \item GitHubリポジトリが記載されていること
 \item package.jsonの変更履歴が2回以上あること
% 松田らのデータセット
 \item テストが付属していること
 \item ライブラリの人気度を示すnpmスコア~\footnote{https://npms.io}が上位500件以内であること
 \item 各バージョンのテスト実行時の成功率が100％であること
\end{itemize}

本研究ではこのデータセットから，npmに公開され，ライブラリテストに変更があり，テスト変更のdiffサイズが1024*2バイト以下であるもの1,027組を使用する．対象データ1,027組から実際に破壊的変更が含まれるバージョンと含まれないバージョンを50組ずつランダムに抽出し計100組を分析した．

%================
%2.2
\subsection{分析手法}
%================

100件のデータについて，2つの手順で分析する．
\vspace{-2mm}
\begin{enumerate}
 \item テスト変更パターンを分類する
 \item 1．をもとに，決定木を用いて，破壊的変更に関係するテスト変更パターンについて分析する
\end{enumerate}

本研究では，従来研究と同様に，ライブラリ利用者のプログラムがライブラリの新しいバージョンを利用することで，テストが失敗した場合に，ライブラリの新しいバージョンに破壊的変更が加えられたと判断する．

\noindent\textbf{手順１: }

テストプログラムは，複数のテストケースからなるテストスイートが組み合わさって構成されており，個々のテストケースには，前提となる条件，期待する結果などが記述されている．これらをもとに，ライブラリテストの変更内容を，テストケースの追加，削除，期待する結果の変更など，計18種類に分類した．分類をもとに，100件のライブラリバージョンについて，それぞれの出現回数を集計した．

\noindent\textbf{手順２: }

実際の破壊的変更の有無を目的変数とし，テスト変更内容１８種類を説明変数とする決定木分析を行った.

%================
%2.4
\subsection{結果}
%================

\todo{結果の表}


%================

%================
%3
\section{おわりに}
%================

本研究は，テスト変更の内容分類に取り組み，テスト変更パターンと破壊的変更有無の関係性を決定木により分析した．分析の結果，\todo{XXがわかった}．今後は，テスト変更パターンの自動分類に取り組む．

%================
\section*{謝辞}
%================

\todo{謝辞}

%================
%\section*{参考文献}
%================
\bibliographystyle{ipsjunsrt} 
\bibliography{bibfile}

\end{document}
