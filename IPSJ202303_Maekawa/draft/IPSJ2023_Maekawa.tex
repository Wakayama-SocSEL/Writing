\documentclass[uplatex,dvipdfmx,a4paper,twocolumn,base=11pt,jbase=11pt,ja=standard]{bxjsarticle}  % 環境に合わせて変更してください

\usepackage{ipsj}
\usepackage{color}

%追加パッケージ
\usepackage{enumerate}
\usepackage{url}
\usepackage{graphics}
\usepackage{caption}

\newcommand{\todo}[1]{\colorbox{yellow}{{\bf TODO}:}{\color{red} {\textbf{[#1]}}}}

\title{後方互換性の損失に伴うテストコード変更内容の分類}{A classification of test code changes accompanied by a lack of backward compatibility}
\author{和歌山大学}{前川　大樹}{Daiki Maekawa, Wakayama University}
\author{和歌山大学}{伊原　彰紀}{Akinori Ihara, Wakayama University}
\author{和歌山大学}{大森　楓己}{Fuki Omori, Wakayama University}
\author{和歌山大学}{才木　一也}{Kazuya Saiki, Wakayama University}

\begin{document}
\maketitle

%================
%1
\section{はじめに}
%================
% （概要）ソフトウェアライブラリの更新において，開発者は意図せずに後方互換性を損失する変更（破壊的変更）を追加してしまうことがある．従来研究では，ライブラリに破壊的変更を加えたリリースバージョンではテストコードも修正すると考え，テストコードの変更有無による破壊的変更の検出手法を提案した．しかし，テストコードの変更はライブラリ変更に関係するとは限らないため，破壊的変更を誤検出することがある．本研究では，破壊的変更に伴うテストコード変更内容の分類に取り組み，テスト変更内容に基づく破壊的変更の検出精度を向上する．

ソフトウェア開発では，開発効率向上のためにライブラリと呼ばれるプログラムを再利用することがある．ライブラリは新機能やバグ修正のために頻繁に更新されるため，ライブラリ利用者は適宜アップデートをする必要がある．しかし，ライブラリの更新には後方互換性を損失する変更（破壊的変更）が含まれることがあり，利用者のプログラムの実行エラーにつながることがある．そのため，ライブラリ開発者はライブラリを更新する際，破壊的変更有無を判断し，適切なバージョン名を付与することで，破壊的変更有無をライブラリ利用者に伝達する．しかし，破壊的変更有無の確認は手動であるため，ライブラリ開発者が破壊的変更を見逃してしまい，意図せず利用者のプログラムが破壊されてしまうことがある．

従来研究~\cite{FOSE2021_Matsuda}では，ライブラリに破壊的変更を加えたリリースバージョンではテストコードも修正すると考え，テストコードの変更有無による破壊的変更の検出手法を提案した．しかし，テストコードの変更はライブラリ変更に関係するとは限らないため，破壊的変更を誤検出することがある．本研究では，テストの誤り修正や実行手順の変更などのライブラリの変更とは無関係のテスト変更を除外し，破壊的変更であると誤検出されるものの個数を減らすために，テストコード変更内容の分類に取り組み，テスト変更に基づく破壊的変更の検出精度を向上する．

%================
%2
\section{分析}
%================
%2.1
\subsection{データセット}
%================

本研究では，松田らがnpmから収集したJavaScriptライブラリのリリースバージョンの組2,111件~\cite{FOSE2021_Matsuda}を対象とする．その中から，npmに公開され，ライブラリテストに変更があり，テスト変更のdiffサイズが1024*2バイト以下であるもの1,027件を抽出した．対象データ1,027件から実際に破壊的変更が含まれるバージョンの組と含まれない組50件ずつをランダムに抽出し，テスト変更内容の分類を行った．

%================
%2.2
\subsection{分析手法}
%================

破壊的変更にはどのようなパターンがあるのかを分析し，そのうえで，分類木によって破壊的変更に関係するテスト変更パターンとは

% どのように分類したのかを書く．

テスト変更xを含むテスト変更とxを含まないテスト変更では実際に破壊的変更が含まれる確率が異なると考え，２群の比率の差の検定を行った．\todo{検定の内容はやってみてからもっと具体的に書く}

%================
%2.4
\subsection{結果}
%================

表１は，テスト変更の分類別に，実際の破壊的変更有無,統計的優位差の有無を示す．\todo{なにか違いが見られたら，その内容とその原因として考えられるものを述べる}

%結果の表
\begin{table}[t]
    \vspace{0mm}
    \centering
    \caption{\todo{こういうイメージの表を作る}}
    \label{table_test_change}
    \scalebox{0.75}{
    \begin{tabular}{l|r|r|c} \hline
            & \multicolumn{1}{c|}{破壊的変更あり} & \multicolumn{1}{c|}{破壊的変更なし} & \multicolumn{1}{c}{有意差} \\ \hline
            test変更A & ｘｘ件 & ｘｘ件 & 無 \\ \hline
            test変更B & ｘｘ件 & ｘｘ件 & 無 \\ \hline
            test変更C & ｘｘ件 & ｘｘ件 & 有 \\ \hline
            test変更D & ｘｘ件 & ｘｘ件 & 無 \\ \hline   
        \end{tabular}
    }
\end{table}
%================

%================
%3
\section{おわりに}
%================

本研究は，テスト変更の内容分類に取り組み，テスト変更内容と破壊的変更有無の関係性を統計的に分析した．分析の結果，\todo{XXがわかった}．今後は，テスト変更内容を自動で分類することで標本数を増やすとともに，破壊的変更の内容についても調査し，どのような破壊的変更の時にテストの分類が有効で，どのような破壊的変更で有効ではないかを調査する．

%================
\section*{謝辞}
%================

\todo{謝辞}

%================
%\section*{参考文献}
%================
\bibliographystyle{ipsjunsrt} 
\bibliography{bibfile} %hoge.bibの名前

\end{document}
