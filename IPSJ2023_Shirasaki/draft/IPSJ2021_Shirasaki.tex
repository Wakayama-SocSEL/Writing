\documentclass[uplatex,dvipdfmx,a4paper,twocolumn,base=11pt,jbase=11pt,ja=standard]{bxjsarticle}  % 環境に合わせて変更してください

\usepackage{ipsj}
\usepackage{color}

%追加パッケージ
\usepackage{enumerate}
\usepackage{url}
\usepackage{graphics}
\usepackage{caption}

\newcommand{\todo}[1]{\colorbox{yellow}{{\bf TODO}:}{\color{red} {\textbf{[#1]}}}}

\title{READMEにおける見出しの同定処理に向けた内容分析}{English title}
\author{和歌山大学}{石岡 直樹}{Naoki Ishioka, Wakayama University}
\author{和歌山大学}{伊原 彰紀}{Akinori Ihara, Wakayama University}
\author{和歌山大学}{南 雄太}{Yuta Minami, Wakayama University}

\begin{document}
\maketitle


%================
%1
\section{はじめに}
%================


%hogehoge（背景，動機とか）
%現代のオープンソースソフトウェア開発では，ソフトウェアの使用法やライセンスなどの情報を伝えるために「READEME.md」を利用することがある．また，「README.md」といったドキュメントファイルは開発者やソフトウェアの使用者の両方にとってソフトウェアに関する情報を得るための手段の一つとなっているため，常に最新の情報を更新する必要がある．ところが，初心者やベテランに関わらずREADMEファイルに何を書けばいいのかわからないがために，READMEファイルが更新されないことがある．既存研究では問題を解決するためにGitHubのnpmエコシステムから43,900以上のパッケージを抽出し，多くのREADMEファイルに共通して記述されている項目を明らかにするための調査を行った．READMEファイルには人によって同一内容であるものの異なる見出し語（表記揺れ）がつけられており，目視によって項目ごとに見出し語の分類を行なった．目視による分類はコストのかかる作業であり，適切な見出し語がつけられているのかどうか定かではない．本論文では，READMEにおいて表記揺れする見出しの自動同定処理に向けて，記述されている文章によって見出し語に違いが生まれるのかを調査する．

%1の修正版
%現代のオープンソースソフトウェア開発では，ソフトウェアの使用法やライセンスなどの情報を伝えるためにREADMEファイルを利用することがある．READMEファイルには「使用法」や「ライセンス」などの項目について記述されており，見出し語とともに，具体的な内容が記述されている．
%また，READMEファイルといったドキュメントファイルはソフトウェアの開発者や使用者の両方にとってソフトウェアに関する情報を得るための手段の一つであるため，常に最新の情報を更新する必要がある．しかし，初心者やベテランに関わらずREADMEファイルに何を書けばいいのかわからないがために，READMEファイルが更新されないことがある．
%既存研究では問題を解決するためにGitHubのnpmエコシステムから43,900以上のパッケージを抽出し，多くのREADMEファイルに共通して記述されている項目を明らかにするための調査を行った．READMEファイルには，同じ「使用法」という項目について記述されたものであっても「How To Use」や「Usages」など，人によって異なる見出し語（表記揺れ）がつけられており，目視によって項目ごとに見出し語の分類を行なった．
%目視による分類はコストのかかる作業であり，適切な見出し語がつけられているのかどうか定かではない．本論文では，READMEファイルにおいて表記揺れする見出しの自動同定処理に向けて，記述されている内容によって見出し語に違いが生まれるのかを調査する．


多くのオープンソースソフトウェア (OSS) プロジェクトは，ソフトウェアの使用方法，開発への貢献方法，ソフトウェアのライセンスなどの情報を開発者や利用者に発信するために，ソフトウェアと共にREADMEを作成し，公開する．特に，ソフトウェア公開用プラットフォームとしても利用されるGitHubを使用するプロジェクトでは，リポジトリのトップページにREADMEを提示することが推奨されている．また，ソフトウェア開発においてREADMEといったドキュメントファイルは，ソフトウェアの開発環境やシステムの保守において重要な役割を果たしていると示唆される\cite{IJCSI2013_Noela}．

READMEは，ソフトウェアの情報を簡潔に説明するために見出し（例: インストール方法）とその説明文（例: インストールするためのコマンド）を記載する．したがってREADMEの内容はソフトウェアによって異なり，READMEに記述すべき内容の明確なガイドラインは確立されていない．従来研究では，READMEのガイドラインの作成を目的にGitHubに保存されるJavaScriptライブラリにおいて共通して記述される見出しを調査し，表記揺れする見出しの統合を目視で行っている~\cite{IEICE2019_Ikeda}．見出しの表記揺れは，開発者が勘や経験に基づき見出しを決定していることが原因と示唆される．

本論文では，READMEにおいて表記揺れする見出しの自動同定処理に向けて，見出しと見出しの説明文の一貫性を機械学習モデルを用いて明らかにする．具体的には，見出しの説明文中に含まれる単語を説明変数として，見出しを予測するモデルを構築する．高い精度で予測できる見出しは，見出しと見出しの説明文に一貫性があると判断する．



%南修正内容
%現代のオープンソースソフトウェアプロジェクトの多くは，プロジェクトの情報を開発者や利用者に伝えるためにREADMEファイルを利用している．開発者はプロジェクトの情報を見出し語と内容としてREADMEファイルに書き込み，またプロジェクトの更新に伴い変更を加える．したがって，READMEファイルは最新の情報に更新されることが望まれる．しかし，READMEファイルの中には内容が不完全であったり，更新されていないものが存在する．

%従来研究ではREADMEの内容を理解するために，GitHubのnpmエコシステムから43,900以上のパッケージのREADEMEファイルを調査した結果，「使用法」，「ライセンス」などの項目が共通して記述されていた．しかし，同じ「使用法」という項目について記述されたものであっても「How To Use」や「Usages」など，開発者によって異なる見出し語（表記揺れ）がつけられていたため，目視によって項目ごとに見出し語の分類を行なった．
%目視による分類はコストのかかる作業であり，適切な見出し語がつけられているのかは定かではない．

%本論文では，READMEファイルにおいて表記揺れする見出しの自動同定処理に向けて，記述されている内容によって見出し語に違いが生まれるのかを調査する．

%================
%2
\section{分析}
%================


%2.1
\subsection{データセット}
%================
%hogehoge（どんなデータセット使ったか）

%fugofugo（そこからどんなデータをどうやって集めたか）
%npmエコシステムから収集した４hoge２のリポジトリからランダムに1000リポジトリ選択し，最新のREADMEを取得．READMEの中で見出しが使用法に分類されるものを抽出した．使用法にカテゴライズされたのは1000のREADMEの内，「usag（452件）」「exampl（119件）」「use（98件）」「method（10件）」．．．と「metod」以降は数が少ないため，本論文では上位３件である「usag」「exampl」「use」を使用する．

%2.1の修正版
本論文では，Libraries.io~\footnote{\url{Libraries.io: https://libraries.io/}}において公開されるJavaScriptライブラリを対象に，READMEを作成して3年以上が経過し，英語で記述されるリポジトリ，ランダムに選択した1,000リポジトリを分析する．対象を1,000リポジトリのみに限定する理由は，表記揺れする見出しを目視によって同定するためである．対象とする1,000リポジトリから最新のREADMEを取得し，従来研究~\cite{IEICE2019_Ikeda}において最も記述頻度が多い「使用方法」に関する見出しと，その内容の一貫性を分析する．使用方法が記述された見出しと，その見出しが記述されたリポジトリ数は，usag（452件），exampl（119件），use（98件）であり，そのほかは，1\%未満のリポジトリにのみ記述されるため対象外とする．対象とする見出しは，ステミング処理をしているため，usagにはUsage，usagesなども同一の見出しusagとする．



%npmエコシステムから収集した\todo{4hoge2}のリポジトリからランダムに1,000リポジトリを選択し，最新のREADMEファイルを取得する．取得したREADMEファイルの中から，本論文ではケーススタディとして「使用法」の項目に分類される部分を抽出した．使用法という項目について書かれているものは1000のREADMEの内，「usag（452件）」「exampl（119件）」「use（98件）」「method（10件）」．．．がある．「metod」以降は数が少ないため，上位３件である「usag」「exampl」「use」を使用する．例として「usag」には「Usage」や「usages」などの見出し語が含まれており，同一の見出し語「usag」として扱う．


%================
%2.2
\subsection{分析手法}
%================
%hogehoge（分析を行うためにどんな準備をしたか（スニペット削除とか））

%fugofugo（なぜその準備をしたのか（コードがあったらよろしくないとか））

%本論文ではREADMEに書かれている内容から見出し語に違いが生まれるのかを調査するために，単語をベクトル化し分析を行う．そのため，「usag」「exampl」「use」にカテゴライズされたREADMEの内容を取得した後，データ成形を行う．データ成形および分析を行うための準備は以下の流れで行う．
%\noindent\textbf{1. データ数の調整:} 今回データセットとして扱う「usag」「exampl」「use」にはデータ数に違いがあるため，結果に偏りが生じてしまう可能性がある．そのためランダムサンプリングを行い，データ数がそれぞれ同じになるよう調整を行う．\\
%\noindent\textbf{2. コードスニペット ，URL，記号の削除:} 単語のベクトル化を行う際，プログラムコード部分などは分析結果のノイズになりうる．そのため正規表現を用いて該当箇所の削除を行う．
%\noindent\textbf{3. 分かち書き:} 分析を行うために各単語を分割（分かち書き）する必要がある．そのため英語による自然言語処理をする上で役に立つNLTK（Natural Language Toolkit）を用いて分かち書きを行う．
%\noindent\textbf{4. ストップワード:} 「I」などの人称代名詞や「would」などの単語は「ストップワード」と呼ばれ，出現頻度が高い割に役に立たないばかりか，計算量が増え分析の結果に悪影響を及ぼす可能性がある．そのためNLTKを用いてストップワードの削除を行う．
%\noindent\textbf{5. 表記の統一:} 単語をベクトル化する際に「play」と「plays」や「go」と「went」のような単語が別の単語として扱われると分析結果に影響が出てしまうため，語幹の統一を行いまとめて１つの単語として扱う必要がある．そのため英語の概念辞書である「word-net」を用いて語幹の統一を行う．
%\noindent\textbf{6. フィルタリング:} READMEの更新途中などで極端に単語数の少ないものは学習データとしてもテストデータとしても役に立たないものであるため，今回はREADMEに書かれている単語数が１０以下のものに対して削除を行う．
%\noindent\textbf{7. 単語のベクトル化:} READMEに書かれている内容の特徴量を得るために，各単語のベクトル化を行う必要がある．そのため１〜４でデータの成形を行ったものに対して「Bag-of-Words」を用いて単語のベクトル化を行う．「Bag-of-Words」とは文章中に出現する全ての単語にインデックスを割り当て，各単語の出現回数を対応する単語のインデックスに割り当てることで文書ベクトルを作成するカウントベースの手法の１つである．


%2.2の修正版

使用方法を示す見出し（usag，exampl，use）のそれぞれの説明文の一貫性を分析するために，説明文に含まれる単語をデータ整形する．

%本論文ではREADMEファイルに記述されている内容から見出し語に違いが生まれるのかを調査するために，READMEファイルの内容に対して単語のベクトル化をし，分析を行う．そのため，「usag」「exampl」「use」にカテゴライズされたREADMEファイルの内容を取得した後，データ成形を行う．データ成形および分析を行うための準備は以下の流れで行う．
\vspace{-2mm}
\begin{enumerate}
    \item 正規表現を用いて，プログラム，URL，記号を削除
    \item NLTKを用いて，説明文の分かち書き
    \item NLTKを用いて，ストップワードの削除
%    \item 「play」や「plays」などの語幹の統一を行う．\todo{NLTKを用いて，ステミング処理（ではダメ？）}
    \item NLTKを用いて，ステミング処理
    \item Bag-of-Wordsにより，単語のベクトル化
\end{enumerate}
\vspace{-5mm}


%================
%2.3
　%\subsection{評価方法}
%================

%４２（どんな分析の仕方をしたのか（「use」と「その他」でそれぞれ分けて考えたとか））
%本論文では，分析手法としてSVM（Support Vector Machine）を用いる．SVMを用いる理由としては，データの成形が必要というデメリットがあるものの，データの次元が大きくなっても高い識別精度が得られるためである．SVMは教師あり学習で，与えられたデータを線形に分割し，２クラスのパターン識別器を構成する手法であるため，本論文ではデータセットから「モデル１：usag と その他」「モデル２：exampl と その他」「モデル３：use と その他」の３種類のモデルを作成し，それぞれのモデルに対してSVMによる分析を行う．説明変数には2.2で行った単語をベクトル化したものを用いて，目的変数には，例としてモデル１なら「usag」であるか否かを「０と１」で表現したものを用いる．また，予測モデルの構築及び評価には「Leave-One-Out交差検証」を用いる．「Leave-One-Out交差検証」とは，説明変数と目的変数のデータセットを組み合わせたもののうち１つをテストデータとし，それ以外を学習データとして予測モデルを構築・評価する．分割の数だけテストデータと学習データを入れ替え検証を行い平均値を予測モデルの評価とする．また，予測モデルの評価には一般的に用いられる適合率・再現率・F1値を用いる．

%2.3の修正版

ベクトル化した説明文を説明変数とし，使用方法を示す見出し（usag，exampl，use）を予測するモデルを構築する．本論文では，自然言語解析において広く利用される教師あり学習モデルSVM（Support Vector Machine）を用いる．SVMは，2クラスのパターン識別器であるため，本論文では，モデル１（usag と その他），モデル２（exampl と その他），モデル３（use と その他）を構築する．予測モデルの評価には，本論文の対象データが膨大ではないためLeave-One-Out交差検証を用いる．モデルの評価には適合率・再現率・F1値を用いる．




%本論文では，分析手法としてSVM（Support Vector Machine）を用いる．SVMは教師あり学習で，与えられたデータを線形に分割し，２クラスのパターン識別器を構成する手法であるため，本論文ではデータセットから「モデル１：usag と その他」「モデル２：exampl と その他」「モデル３：use と その他」の３種類のモデルを作成し，それぞれのモデルに対してSVMによる分析を行う．説明変数には2.2で行った単語をベクトル化したものを用いて，目的変数には，例としてモデル１なら「usag」であるか否かを「０と１」で表現したものを用いる．また，予測モデルの構築及び評価には「Leave-One-Out交差検証」を用いる．「Leave-One-Out交差検証」とは，説明変数と目的変数のデータセットを組み合わせたもののうち１つをテストデータとし，それ以外を学習データとして予測モデルを構築・評価する．分割の数だけテストデータと学習データを入れ替え検証を行い平均値を予測モデルの評価とする．また，予測モデルの評価には一般的に用いられる適合率・再現率・F1値を用いる．



%================
%2.4
\subsection{結果}
%================
%hogehoge（どんな結果が得られたか，図とかを一緒に載せる）

%fugofugo（結果からの考察）
%分析を行った結果次のような結果が得られた．

%--------------------------------表入れるとこ
\begin{table}[t]
 \centering
 \caption{予測結果}
\label{tab:result}
  \scalebox{0.9}{
  \begin{tabular}{c|c|c|c} \hline
     & \textbf{モデル1} & \textbf{モデル2} & \textbf{モデル3} \\ \hline
    \textbf{Precision} & 0.45 & 0.50 & 0.55 \\ \hline
    \textbf{Recall} & 0.70 & 0.87 & 0.81 \\ \hline
    \textbf{F1} & 0.55 & 0.63 & 0.65 \\ \hline
  \end{tabular}
    \label{tab:result}
   }
    \vspace{-7mm}
\end{table}
%--------------------------------
%上の表では，各モデルにおける適合率（Precision），再現率（Recall），F1値の結果をそれぞれ示す．モデル１における適合率（Precision）とは，「usag」であると予測されたものの中で，正しく予測された「usag」の割合を示している．再現率（Recall）とは，「usag」であるものの中で予測モデルによって正しく予測された「usag」の割合を示している．また，適合率と再現率はトレードオフの関係のであるため，適合率と再現率の調和平均であるF1値でも評価を行う．F1値は０から１の間の値で示され，値が高ければ高いほどモデルとしての評価は高くなる．

%今回の分析の結果から全てのモデルに対して高い再現率の値が出たため，\todo{0.63も高いの？}「usag」「exampl」「use」のものの中から予測モデルによって取りこぼし\todo{具体的にはどういうこと？何を取りこぼしていない？}を少なく予測することが可能であると考えられる．ところが適合率の値が低いため，正しくないものも「usag」「exampl」「use」だと予測してしまい過検知\todo{なぜ誤検知する？}となっている．過検知となる原因の１つとして，「usag」「exampl」「use」それぞれ予測する要因（単語）に被り\todo{被り？何と何がかぶってる？}が生じているのではないかと考える．
%また，F1値はどのモデルも高い値であると述べることは難しいため，内容から見出し語の予測をするにはいくつか\todo{いくつか？具体的には？}課題点を解決する必要があると考える．

%今回の分析の結果から，全てのモデルの再現率において0.7以上の値が出たため，ランダムで行うよりも高い精度で，実際に「usag」「exampl」「use」であるものを正しく「usag」「exampl」「use」であると予測することが可能であると示唆される．しかし，適合率の値から，正しくないものも「usag」「exampl」「use」だと予測してしまう誤検知が起こっている．誤検知が起こる原因として，説明文から「usag」という見出し語をつけるべきなのに，実際には「use」という見出し語を使用している，つまり見出し語と見出し語の説明に一貫性がないものが存在していることが考えられる．また，モデル１については他のモデルに比べて値が低いため，実際に「usag」であるものの中に「exampl」や「use」という見出し語を使用すべきものが他のモデルに比べて多く含まれていると考えられる．

表~\ref{tab:result}は，モデル1〜モデル3の予測結果を示す．モデル間の予測精度の差は小さく，適合率は0.45〜0.55であったため，ランダムに予測する場合の予測精度と同じと考えられる．言い換えると，開発者はusag，example, useの見出しを区別せずに使用していると考えられる．ただし，3つのモデルの再現率は0.70〜0.87であり，ランダムで行うよりも高い精度であることから，判別する閾値を調整することにより，再現率を維持したまま高い適合率を得る可能性もあり，モデルの改善を試みる．

%実際に「usag」「exampl」「use」であるものを正しく「usag」「exampl」「use」であると予測することが可能であると示唆される．しかし，適合率の値から，正しくないものも「usag」「exampl」「use」だと予測してしまう誤検知が起こっている．誤検知が起こる原因として，予測する要因となる特徴を持った単語に原因が含まれていると考える．また，他のモデルと比較してモデル１の精度が低いため，特にモデル１において「use」や「exampl」と記述すべきなのに「usag」という見出し語を使用している，つまり見出し語と見出し語の説明文に一貫性がないものが含まれていると考えられる．



%--------------------------------
%2.4の修正版






%================
%3
\section{おわりに}
%================

%hogehoge（今回の研究のまとめとか）

%fugofugo（今回研究から得られたことを踏まえて今後どう発展させていくか）

%４２（どんな研究をしていくつもりなのか的な）
%今回の研究のから　hogehoge-fugofugoである．

%今後の展望として，本論文ではnpmエコシステムからデータを利用したが，他のエコシステムからのデータでも同様に分析を行い，結果を比較する．また，SVM以外の手法との結果も比較することを考えている．最終的な目標として，READMEに書くべき見出し語の自動生成や推薦を目標にしたいと考えている．

%本論文は，READMEにおける見出し，特に利用頻度の高い「利用方法」の見出しと見出し後の説明文の一貫性をSVMモデルを用いて分析した．\todo{XXがわかった．}今後は，利用方法に限らず，RAEDMEの説明文に基づく見出しの統一化に向けた分析を行う．

%今回の分析の結果から「使用法」という項目について書かれた内容から見出し語の予測をすることは現段階では難しいということが分かった．しかし，今回は内容に明確な違いがあるのかを示すことが目的であり，大きな差がないということがわかったため今後の展望として，「tf-idf」や「ランダムフォレスト」を用いることで，表記揺れが起きる見出し語間に見出し語を決める決定的な単語があるのかを調査したいと考える．また，今回は「使用法」を選択したが他の項目での結果を確かめるとともにデータ数を増やす必要があると考える．


%本論文は，READMEにおける見出し，特に利用頻度の高い「使用方法」の見出しと見出し語の説明文の一貫性をSVMモデルを用いて分析した．分析の結果，開発者はusag，example, useの見出し語を区別せずに使用していると考えられる．今後は，開発者の効率的なREADME作成および利用者のスムーズなREADME閲覧のために，使用方法に限らず，見出し語の説明文に基づく見出し語の統一に向け分析を行い，READMEファイルのガイドラインの作成に取り組む．
本論文は，README における見出し，特に利用頻度の高い「使用方法」の見出しと見出しの説明文の一貫性を SVM モデルを用いて分析した.分析の結果，開発者は usag，example, use の見出しを区別せずに使用していると考えられる.今後は，READMEの説明文に対応する統一した見出しを分析し，README を作成するためのガイドラインの確立を目指す.


%今後は，使用方法に限らず，READMEファイルの説明文に基づく見出しのガイドライン作成に向けた分析を行う．\todo{今後は．．．のところは石岡君の気持ちを込めた文章，に書き換えてください．}

%見出し語の説明文から見出し語を予測することが可能であると示唆されるが，見出し語と見出し語の説明文に一貫性がないものがあると考えられる．
%今後は，使用方法に限らず，READMEファイルの説明文に基づく見出しのガイドライン作成に向けた分析を行う．



%3の修正版







%================
\section*{謝辞}
%================

本研究はJSPS科研費 18H03222 の助成を受けたものです．

%================
%\section*{参考文献}
%================
%[1]Shohei IKEDA, Akinori IHARA, Raula Gaikovina KULA, and Kenichi MATSUMOTO : An Empirical Study ofREADMEcontents for JavaScript Packages : IEICE TRANS. INF. and SYST., VOL.E102–D, NO.2 FEBRUARY 2019

%[2]JINHAN KIM, SANGHOON LEE, and SEUNG-WON HWANG, SUNGHUN KIM : Enriching Documents with Examples: A Corpus Mining Approach : ACM Trans. Inf. Syst. 31, 1, Article 1 (January 2013)

%[3]Noela Jemutai Kipyegen and William P. K. Korir : Importance of Software Documentation : IJCSI International Journal of Computer Science Issues, Vol. 10, Issue 5, No 1, September 2013 


%================






\bibliographystyle{ipsjunsrt}
\bibliography{bibfile}

\end{document}
